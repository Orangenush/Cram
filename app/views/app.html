<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cram</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../styles/bootstrap.min.css">
  <link rel="stylesheet" href="../styles/style.css">
  <script src="../scripts/jquery.min.js"></script>

  <script>
    var nw = require('nw.gui');
    var win = nw.Window.get();
    win.isMaximized = false;
  </script>
</head>
<body>

  <header>
    <ul>
      <li><div id='windowControlMinimize'></div></li>
      <!--<li><div id='windowControlMaximize'></div></li>-->
      <li><div id='windowControlClose'   ></div></li>
    </ul>
  </header>

  <div class="container">
    <h1 class="greating">Hello in Cram!</h1>
    <div class="login">
      <form role="form">
        <div class="form-group">
          <label for="email">Login:</label>
          <input type="email" class="form-control" id="email" placeholder="Enter login">
        </div>
        <div class="form-group">
          <label for="pwd">Password:</label>
          <input type="password" class="form-control" id="pwd" placeholder="Enter password">
        </div>
        <div class="checkbox">
          <label><input type="checkbox"> Remember me</label>
        </div>
        <div class="reg-log-buttons">
          <button type="submit" class="btn btn-default">Register</button>
          <button type="submit" class="btn btn-default" id='subm'>Login</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    document.getElementById('windowControlMinimize').onclick = function()
    {
        win.minimize();
    };

    document.getElementById('windowControlClose').onclick = function()
    {
        win.close();
    };

    /*document.getElementById('windowControlMaximize').onclick = function()
    {
        if (win.isMaximized)
            win.unmaximize();
        else
            win.maximize();
    };

    win.on('maximize', function(){
        win.isMaximized = true;
    });

    win.on('unmaximize', function(){
        win.isMaximized = false;
    });*/

    function getXmlHttp(){
    	try {
    		return new ActiveXObject("Msxml2.XMLHTTP");
    	} catch (e) {
    		try {
    			return new ActiveXObject("Microsoft.XMLHTTP");
    		} catch (ee) {
    		}
    	}
    	if (typeof XMLHttpRequest!='undefined') {
    		return new XMLHttpRequest();
    	}
    }

    function getUrl(url, cb) {
    	var xmlhttp = getXmlHttp();
    	xmlhttp.open("GET", url+'?r='+Math.random());
    	xmlhttp.onreadystatechange = function() {
    		if (xmlhttp.readyState == 4) {
    			cb(
    			xmlhttp.status,
    			xmlhttp.getAllResponseHeaders(),
    			xmlhttp.responseText
    			);
    		}
    	}
    	xmlhttp.send(null);
    }

    document.getElementById('subm').onclick = function()
    {
      getUrl('http://javascript.ru/forum/url',function(status,headers,text){
        alert(status);
      });
    };
  </script>

  <script src="../scripts/bootstrap.min.js"></script>
</body>
</html>
